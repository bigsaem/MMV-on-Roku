<?xml version="1.0" encoding="utf-8" ?> 
<!--********** Copyright 2016 Roku Corp.  All Rights Reserved. **********--> 

<!-- 
    main node which handles home screen children 
    -->
<component name="HomeScene" extends="Scene">
    
    <interface>
        <!-- Content for RowList in GridScreen on Home Scene -->
        <field id="gridContent" type="node" alias="GridScreen.content" onChange="OnChangeContent" />            
		
        <!-- Row item selection handler -->
        <field id="rowItemSelected" type="intarray" alwaysNotify="true" alias="GridScreen.rowItemSelected"/>
        
        <!-- option selection handler -->
        <field id="optionSelected" type="intarray" alwaysnotify="true" alias="option_btn.buttonSelected"/>

        <field id="episodesRowItemSelected" type="intarray" alwaysNotify="true" alias="Episodes.itemSelected"/>
        
        <field id="playSelected" type="intarray" alwaysNotify="true" alias="DetailsScreen.videoPlayerVisible"/>
        
    </interface>
    
    <!-- main handler -->
    <script type="text/brightscript" uri="pkg:/components/screens/HomeScene/HomeScene.brs" />
    
    <children>

        <!-- Grid screen with RowList on Home Scene -->
        <GridScreen
            id="GridScreen"
            visible="true"
            translation="[0,0]" />
            
        <Episodes
            id="Episodes"
            visible="false"
            translation="[0,0]" />
            
            
        <!-- Overhang logo -->
        <Poster
            translation="[79, 36]"
            uri="pkg:/images/overhangLogo.png"
            width="156"
            height="49"  />
        
        <!--  option button -->
        <Button
            id="option_btn"
            text="Option*"
            textColor="#4881db"
            focusBitmapUri="pkg:/images/focus_grid.9.png"
            translation = "[ 1000, 40 ]"
        />
        <Option
		  id="optionCont"
		  width="280"
		  height="720"
		  visible="false"
		  color="#ed7740"
		  translation="[1280,0]" 
		 />
        <!-- Details screen with Play button -->
        <DetailsScreen
            id="DetailsScreen"
            visible="false"/>

        <!-- animation for option bar -->    
        <Animation id="myAnim1" 
			duration="0.5"
			easeFunction="linear" >
		    <Vector2DFieldInterpolator id = "Anim1"
			    key="[0.0, 0.25, 0.5, 0.75, 1.0]"
			    keyValue="[ [1280.0, 0.0], [1180.0, 0.0], [1080.0, 0.0], [1020.0, 0.0], [1000.0, 0.0] ]"
		        fieldToInterp="optionCont.translation" />
        </Animation>    
            
        <LoadingIndicator
		      id="loadingIndicator"
		      imageUri="pkg:/components/screens/LoadingIndicator/loader.png"
		      clockwise="true"
		      spinInterval="2"
		      fadeInterval="0.5"
		      spacing="20"
		      imageWidth="100"
		      text="Loading..."
		      width="1280"
		      height="720"
		      centered="false"
              translation="[0, 0]"
		      textPadding="10"
		      font="font:SmallBoldSystemFont"
		      backgroundColor="0x551A8B"
		      backgroundOpacity="0"/>

    </children>
</component>
