<?xml version="1.0" encoding="utf-8" ?> 
<!--********** Copyright 2016 Roku Corp.  All Rights Reserved. **********--> 

<!-- 
    main node which handles home screen children 
    -->
<component name="HomeScene" extends="Scene">
    
    <interface>
        <!-- Content for RowList in GridScreen on Home Scene -->
        <field id="gridContent" type="node" alias="GridScreen.content" onChange="OnChangeContent" />      
                      
		<field id="rowList" type = "node" alias="GridScreen.rowList"/>
        <!-- Row item selection handler -->
        <field id="rowItemSelected" type="intarray" alwaysNotify="true" alias="GridScreen.rowItemSelected"/>
       
        <!-- option selection handler -->
        <field id="optionSelected" type="intarray" alwaysnotify="true" alias="option_btn.buttonSelected"/>
        
        <field id="episodesRowItemSelected" type="intarray" alwaysNotify="true" alias="Episodes.itemSelected"/>
        
        <field id="playSelected" type="intarray" alwaysNotify="true" alias="DetailsScreen.videoPlayerVisible"/>
        <field id="APIArray" type="roArray"/>
        <field id="rowCount" type="integer" value="0"/>
        
    </interface>
    
    <!-- main handler -->
    <script type="text/brightscript" uri="pkg:/components/screens/HomeScene/HomeScene.brs" />
    
    <children>

        <!-- Grid screen with RowList on Home Scene -->
        <Poster
            id="Background"
            width = "1280"
            height = "720"
            loadSync = "true"
            uri = "pkg:/images/Background720.png"/>
        <Poster
            id = "itemMask"
            width = "1280"
            height = "380"
            translation = "[ 0, 720 ]"
            uri="pkg:/images/bg-tile.png"
            />
        <GridScreen
            id="GridScreen"
            visible="true"
            translation="[0,0]" />
            
        <Episodes
            id="Episodes"
            enableRenderTracking="true"
            visible="false"
            translation="[0,0]" />
            
        <ErrorScene
            id="ErrorScene"
            visible="false"
            translation="[0,0]" />
            
        <!-- Overhang logo -->
        <Poster
            translation="[79, 36]"
            uri="pkg:/images/overhangLogo.png"
            width="156"
            height="49"  />
        
        <!--  option button -->
        <Button
            id="option_btn"
            text="Option*"
            textColor="0x000000"
            focusedIconUri=""
            iconUri=""
            focusBitmapUri="pkg:/images/focus_grid.9.png"
            translation = "[ 1000, 40 ]"
        />
        <Option
		  id="optionCont"
		  width="250"
		  height="720"
		  visible="false"
		  color="#ed7740"
		  translation="[1280,0]" 
		 />
		 
		 <Video
            id="videoPlayer2"
            visible="false"
            translation="[0, 0]"
            width="1280"
            height="720"/>
		 
        <!-- Details screen with Play button -->
        <!--<DetailsScreen
            id="DetailsScreen"
            translation = "[440,160]"
            color="#FFFFFF"
            width = "400"
            height = "450"
            visible="false"/>-->
        <DetailsScreen
            id="DetailsScreen"
            visible = "false"/>

        <!-- animation for option bar -->    
        <Animation id="myAnim1" 
			duration="0.35"
			easeFunction="linear" >
		    <Vector2DFieldInterpolator id = "Anim1"
			    key="[0.0, 0.7, 1.0]"
			    keyValue="[ [1280.0, 0.0], [1030.0, 0.0], [1040.0, 0.0] ]"
		        fieldToInterp="optionCont.translation" />
        </Animation>    

         <!--  animation for row background -->
        <Animation id="slideUpItemMask" 
            duration="0.5"
            easeFunction="linear" >
            <Vector2DFieldInterpolator id = "slideUpItemMaskAnim"
                key="[0.0, 0.7, 1.0]"
                keyValue="[ [0.0, 720.0], [0.0, 330.0], [0.0, 350.0]]"
                fieldToInterp="itemMask.translation" />
        </Animation>       
        <Animation id="slideUpRowlist" 
            duration="0.5"
            easeFunction="linear" >
            <Vector2DFieldInterpolator id = "slideUpItemMaskAnim"
                key="[0.0, 0.7, 1.0]"
                keyValue="[ [-60.0, 720.0], [-60.0, 350.0], [-60.0, 372.0]]"
                fieldToInterp="rowList.translation" />
        </Animation>  
        <Animation id="slideUpFull" 
            duration="0.3"
            easeFunction="linear" >
            <Vector2DFieldInterpolator id = "slideUpfull"
                key="[0.0, 0.7, 1.0]"
                keyValue="[ [0.0, 350.0], [0.0, 100.0], [0.0, 0.0]]"
                fieldToInterp="itemMask.translation" />
        </Animation> 
        <Animation id="slideDown" 
            duration="0.2"
            easeFunction="linear" >
            <Vector2DFieldInterpolator id = "slidedownfull"
                key="[0.0, 0.7, 1.0]"
                keyValue="[ [0.0, 0.0], [0.0, 100.0],[0.0, 350.0] ]"
                fieldToInterp="itemMask.translation" />
        </Animation> 
    </children>
</component>